### Khai báo biến
@baseUrl = http://localhost:3000

# ==========================================
# AUTHENTICATION
# ==========================================

### 1. Login để lấy Token
# @name login
POST {{baseUrl}}/api/login
Content-Type: application/json

{
    "email": "trang@gmail.com"
}

### Lưu token vào biến
@authToken = {{login.response.body.data.token}}


# ==========================================
# USER OPERATIONS (Requires Token)
# ==========================================

### 2. Lấy danh sách users (có phân trang)
GET {{baseUrl}}/api/users?page=1&limit=5
Authorization: Bearer {{authToken}}
Accept: application/json

### 3. Thêm một user mới
POST {{baseUrl}}/api/users
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
    "email": "newuser@gmail.com",
    "name": "New User"
}

### 4. Lấy user theo ID
GET {{baseUrl}}/api/users/2
Authorization: Bearer {{authToken}}
Accept: application/json

### 5. Cập nhật user
PUT {{baseUrl}}/api/users/1
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
    "email": "updated@gmail.com",
    "name": "Updated Name"
}

### 6. Xóa user
DELETE {{baseUrl}}/api/users/2
Authorization: Bearer {{authToken}}
Accept: application/json


# ==========================================
# VALIDATION & ERRORS
# ==========================================

### 7. Test lỗi: Validate sai format email và tên quá ngắn
POST {{baseUrl}}/api/users
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
    "email": "invalid-email",
    "name": "ab"
}

### 8. Test lỗi: Không có token (Unauthorized)
GET {{baseUrl}}/api/users
Accept: application/json

### 9. Test lỗi: Token không hợp lệ
GET {{baseUrl}}/api/users
Authorization: Bearer invalid_token_string
Accept: application/json